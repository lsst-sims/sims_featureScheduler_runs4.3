Try to consolidate filter swaps better

